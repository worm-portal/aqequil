2025-12-30T17:26:06.9086480Z ##[group]Run python test_integration.py
2025-12-30T17:26:06.9087060Z [36;1mpython test_integration.py[0m
2025-12-30T17:26:06.9149990Z shell: /bin/bash --noprofile --norc -e -o pipefail {0}
2025-12-30T17:26:06.9150690Z env:
2025-12-30T17:26:06.9151230Z   pythonLocation: /Users/runner/hostedtoolcache/Python/3.11.9/x64
2025-12-30T17:26:06.9152220Z   PKG_CONFIG_PATH: /Users/runner/hostedtoolcache/Python/3.11.9/x64/lib/pkgconfig
2025-12-30T17:26:06.9154010Z   Python_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.11.9/x64
2025-12-30T17:26:06.9154910Z   Python2_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.11.9/x64
2025-12-30T17:26:06.9155790Z   Python3_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.11.9/x64
2025-12-30T17:26:06.9156660Z ##[endgroup]
2025-12-30T17:26:08.7942740Z Traceback (most recent call last):
2025-12-30T17:26:08.7943880Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:26:08.7944900Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:26:08.7946320Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:26:08.7947330Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:26:08.7948090Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:26:08.7948680Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:26:08.7949400Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:26:08.7949940Z 
2025-12-30T17:26:08.7950270Z During handling of the above exception, another exception occurred:
2025-12-30T17:26:08.7950810Z 
2025-12-30T17:26:08.7950980Z Traceback (most recent call last):
2025-12-30T17:26:08.7951880Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 119, in test_runeqpt
2025-12-30T17:26:08.7952700Z     ae.runeqpt('wrm')
2025-12-30T17:26:08.7953450Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:26:08.7954330Z     self.err_handler.raise_exception(
2025-12-30T17:26:08.7955620Z   File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:26:08.7956910Z     raise Exception(msg)
2025-12-30T17:26:08.7958450Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:08.7982550Z Traceback (most recent call last):
2025-12-30T17:26:08.7984580Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:26:08.7985650Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:26:08.7987790Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:26:08.7989100Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:26:08.7989700Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:26:08.7990320Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:26:08.7991020Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:26:08.7991540Z 
2025-12-30T17:26:08.7991860Z During handling of the above exception, another exception occurred:
2025-12-30T17:26:08.7992390Z 
2025-12-30T17:26:08.7992550Z Traceback (most recent call last):
2025-12-30T17:26:08.7993500Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 186, in test_speciation_simple
2025-12-30T17:26:08.7994420Z     ae_eqpt.runeqpt('wrm')
2025-12-30T17:26:08.7995370Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:26:08.7996200Z     self.err_handler.raise_exception(
2025-12-30T17:26:08.7997440Z   File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:26:08.7998700Z     raise Exception(msg)
2025-12-30T17:26:08.7999180Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:17.4138370Z Traceback (most recent call last):
2025-12-30T17:26:17.4140550Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:26:17.4141900Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:26:17.4143220Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:26:17.4144520Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:26:17.4145770Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:26:17.4146430Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:26:17.4147190Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:26:17.4147700Z 
2025-12-30T17:26:17.4148180Z During handling of the above exception, another exception occurred:
2025-12-30T17:26:17.4148880Z 
2025-12-30T17:26:17.4149070Z Traceback (most recent call last):
2025-12-30T17:26:17.4150080Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 253, in test_water_rock_reaction
2025-12-30T17:26:17.4151600Z     speciation = ae.speciate(
2025-12-30T17:26:17.4152100Z                  ^^^^^^^^^^^^
2025-12-30T17:26:17.4153950Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1926, in speciate
2025-12-30T17:26:17.4155060Z     self.runeqpt(data0_lettercode, dynamic_db=True)
2025-12-30T17:26:17.4156080Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:26:17.4157030Z     self.err_handler.raise_exception(
2025-12-30T17:26:17.4158390Z   File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:26:17.4159750Z     raise Exception(msg)
2025-12-30T17:26:17.4160280Z Exception: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:26:17.4160850Z 
2025-12-30T17:26:17.4161060Z ============================================================
2025-12-30T17:26:17.4161640Z AQEQUIL INTEGRATION TEST SUITE
2025-12-30T17:26:17.4162130Z ============================================================
2025-12-30T17:26:17.4162890Z Python: 3.11.9
2025-12-30T17:26:17.4163280Z Platform: darwin
2025-12-30T17:26:17.4163640Z Architecture: x86_64
2025-12-30T17:26:17.4164100Z ============================================================
2025-12-30T17:26:17.4164660Z ============================================================
2025-12-30T17:26:17.4165280Z Test 1: Checking for bundled EQ3/6 executables
2025-12-30T17:26:17.4165850Z ============================================================
2025-12-30T17:26:17.4166630Z [FAIL] No bundled executables found!
2025-12-30T17:26:17.4167000Z 
2025-12-30T17:26:17.4167210Z ============================================================
2025-12-30T17:26:17.4167750Z Test 2: Testing aqequil import and basic usage
2025-12-30T17:26:17.4168320Z ============================================================
2025-12-30T17:26:17.4168890Z [OK] Successfully imported aqequil
2025-12-30T17:26:17.4169790Z [OK] Found test data at: /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv
2025-12-30T17:26:17.4170560Z 
2025-12-30T17:26:17.4170740Z ============================================================
2025-12-30T17:26:17.4171350Z Test 3: Testing runeqpt (data0 to data1 conversion)
2025-12-30T17:26:17.4171970Z ============================================================
2025-12-30T17:26:17.4172780Z [INFO] Working directory: /var/folders/6k/3_2ylbdd4rl8w3kbs55s3kk80000gn/T/tmp9rj6rmp7
2025-12-30T17:26:17.4173650Z [OK] Copied data0.wrm to working directory
2025-12-30T17:26:17.4174210Z Running EQPT on data0.wrm...
2025-12-30T17:26:17.4174860Z [FAIL] Error during runeqpt: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:17.4175400Z 
2025-12-30T17:26:17.4175580Z ============================================================
2025-12-30T17:26:17.4176210Z Test 4: Testing simple speciation (wrm database)
2025-12-30T17:26:17.4176810Z ============================================================
2025-12-30T17:26:17.4178490Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:26:17.4179750Z [INFO] Working directory: /var/folders/6k/3_2ylbdd4rl8w3kbs55s3kk80000gn/T/tmp900uwish
2025-12-30T17:26:17.4180640Z [OK] Copied data0.wrm to working directory
2025-12-30T17:26:17.4181210Z Running EQPT to create data1.wrm...
2025-12-30T17:26:17.4181930Z [FAIL] Error during simple speciation: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:17.4183000Z 
2025-12-30T17:26:17.4183190Z ============================================================
2025-12-30T17:26:17.4183760Z Test 5: Testing water-rock reaction
2025-12-30T17:26:17.4184260Z ============================================================
2025-12-30T17:26:17.4185230Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:26:17.4186500Z [INFO] Working directory: /var/folders/6k/3_2ylbdd4rl8w3kbs55s3kk80000gn/T/tmpueiabqfs
2025-12-30T17:26:17.4187490Z Getting wrm_data_latest.csv ready. This will take a moment...
2025-12-30T17:26:17.4188540Z No 'charge_balance_on' column found in input file. Defaulting to no charge balancing for all samples.
2025-12-30T17:26:17.4190160Z Warning: a column for Pressure was not found in the sample input file. Defaulting to water saturation pressure...
2025-12-30T17:26:17.4191490Z [FAIL] Error during water-rock reaction: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:26:17.4192130Z 
2025-12-30T17:26:17.4192350Z ============================================================
2025-12-30T17:26:17.4192870Z TEST SUMMARY
2025-12-30T17:26:17.4193270Z ============================================================
2025-12-30T17:26:17.4193820Z [FAIL] Bundled Executables
2025-12-30T17:26:17.4194290Z [PASS] Import and Basic Usage
2025-12-30T17:26:17.4195010Z [FAIL] EQPT Data0 to Data1 Conversion
2025-12-30T17:26:17.4195650Z [FAIL] Simple Speciation (wrm database)
2025-12-30T17:26:17.4196220Z [FAIL] Water-Rock Reaction
2025-12-30T17:26:17.4196690Z ============================================================
2025-12-30T17:26:17.4197110Z 
2025-12-30T17:26:17.4197270Z [FAIL] Some tests failed!
2025-12-30T17:26:17.7166030Z ##[error]Process completed with exit code 1.
