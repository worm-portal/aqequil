2025-12-30T17:25:17.5725505Z ##[group]Run python test_integration.py
2025-12-30T17:25:17.5725864Z [36;1mpython test_integration.py[0m
2025-12-30T17:25:17.5759499Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-12-30T17:25:17.5759823Z env:
2025-12-30T17:25:17.5760069Z   pythonLocation: /opt/hostedtoolcache/Python/3.10.19/x64
2025-12-30T17:25:17.5760481Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.10.19/x64/lib/pkgconfig
2025-12-30T17:25:17.5760895Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.10.19/x64
2025-12-30T17:25:17.5761252Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.10.19/x64
2025-12-30T17:25:17.5761605Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.10.19/x64
2025-12-30T17:25:17.5761977Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.10.19/x64/lib
2025-12-30T17:25:17.5762279Z ##[endgroup]
2025-12-30T17:25:20.1299881Z Traceback (most recent call last):
2025-12-30T17:25:20.1306668Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:20.1307434Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:20.1308156Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:20.1308790Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:20.1309646Z   File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/posixpath.py", line 76, in join
2025-12-30T17:25:20.1310203Z     a = os.fspath(a)
2025-12-30T17:25:20.1310554Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:20.1310882Z 
2025-12-30T17:25:20.1311100Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:20.1311672Z 
2025-12-30T17:25:20.1311781Z Traceback (most recent call last):
2025-12-30T17:25:20.1312296Z   File "/home/runner/work/aqequil/aqequil/test_integration.py", line 119, in test_runeqpt
2025-12-30T17:25:20.1312794Z     ae.runeqpt('wrm')
2025-12-30T17:25:20.1313249Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:20.1313771Z     self.err_handler.raise_exception(
2025-12-30T17:25:20.1314492Z   File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:20.1315198Z     raise Exception(msg)
2025-12-30T17:25:20.1315502Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:20.1321003Z Traceback (most recent call last):
2025-12-30T17:25:20.1321840Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:20.1322696Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:20.1323655Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:20.1324511Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:20.1325069Z   File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/posixpath.py", line 76, in join
2025-12-30T17:25:20.1325485Z     a = os.fspath(a)
2025-12-30T17:25:20.1325770Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:20.1326039Z 
2025-12-30T17:25:20.1326210Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:20.1326468Z 
2025-12-30T17:25:20.1326558Z Traceback (most recent call last):
2025-12-30T17:25:20.1327020Z   File "/home/runner/work/aqequil/aqequil/test_integration.py", line 186, in test_speciation_simple
2025-12-30T17:25:20.1327460Z     ae_eqpt.runeqpt('wrm')
2025-12-30T17:25:20.1327853Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:20.1328274Z     self.err_handler.raise_exception(
2025-12-30T17:25:20.1328839Z   File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:20.1329595Z     raise Exception(msg)
2025-12-30T17:25:20.1329857Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:28.6157009Z Traceback (most recent call last):
2025-12-30T17:25:28.6157968Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:28.6158998Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:28.6162151Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:28.6163001Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:28.6163817Z   File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/posixpath.py", line 76, in join
2025-12-30T17:25:28.6164588Z     a = os.fspath(a)
2025-12-30T17:25:28.6165139Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:28.6165569Z 
2025-12-30T17:25:28.6165872Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:28.6166345Z 
2025-12-30T17:25:28.6166512Z Traceback (most recent call last):
2025-12-30T17:25:28.6167387Z   File "/home/runner/work/aqequil/aqequil/test_integration.py", line 253, in test_water_rock_reaction
2025-12-30T17:25:28.6168268Z     speciation = ae.speciate(
2025-12-30T17:25:28.6169059Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1926, in speciate
2025-12-30T17:25:28.6170236Z     self.runeqpt(data0_lettercode, dynamic_db=True)
2025-12-30T17:25:28.6171124Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:28.6171902Z     self.err_handler.raise_exception(
2025-12-30T17:25:28.6172954Z   File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:28.6173820Z     raise Exception(msg)
2025-12-30T17:25:28.6174085Z Exception: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:25:28.6174350Z 
2025-12-30T17:25:28.6174457Z ============================================================
2025-12-30T17:25:28.6174747Z AQEQUIL INTEGRATION TEST SUITE
2025-12-30T17:25:28.6175006Z ============================================================
2025-12-30T17:25:28.6175262Z Python: 3.10.19
2025-12-30T17:25:28.6175451Z Platform: linux
2025-12-30T17:25:28.6175638Z Architecture: x86_64
2025-12-30T17:25:28.6175850Z ============================================================
2025-12-30T17:25:28.6176124Z ============================================================
2025-12-30T17:25:28.6176411Z Test 1: Checking for bundled EQ3/6 executables
2025-12-30T17:25:28.6176691Z ============================================================
2025-12-30T17:25:28.6176975Z [FAIL] No bundled executables found!
2025-12-30T17:25:28.6177153Z 
2025-12-30T17:25:28.6177250Z ============================================================
2025-12-30T17:25:28.6177547Z Test 2: Testing aqequil import and basic usage
2025-12-30T17:25:28.6177827Z ============================================================
2025-12-30T17:25:28.6178106Z [OK] Successfully imported aqequil
2025-12-30T17:25:28.6178524Z [OK] Found test data at: /home/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv
2025-12-30T17:25:28.6178877Z 
2025-12-30T17:25:28.6178978Z ============================================================
2025-12-30T17:25:28.6179273Z Test 3: Testing runeqpt (data0 to data1 conversion)
2025-12-30T17:25:28.6179800Z ============================================================
2025-12-30T17:25:28.6180095Z [INFO] Working directory: /tmp/tmpoua9shoh
2025-12-30T17:25:28.6180368Z [OK] Copied data0.wrm to working directory
2025-12-30T17:25:28.6180628Z Running EQPT on data0.wrm...
2025-12-30T17:25:28.6180934Z [FAIL] Error during runeqpt: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:28.6181191Z 
2025-12-30T17:25:28.6181288Z ============================================================
2025-12-30T17:25:28.6181721Z Test 4: Testing simple speciation (wrm database)
2025-12-30T17:25:28.6182019Z ============================================================
2025-12-30T17:25:28.6182465Z Running speciation on /home/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:25:28.6183105Z [INFO] Working directory: /tmp/tmpv5r3zgg2
2025-12-30T17:25:28.6183382Z [OK] Copied data0.wrm to working directory
2025-12-30T17:25:28.6183649Z Running EQPT to create data1.wrm...
2025-12-30T17:25:28.6183999Z [FAIL] Error during simple speciation: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:28.6184299Z 
2025-12-30T17:25:28.6184393Z ============================================================
2025-12-30T17:25:28.6184665Z Test 5: Testing water-rock reaction
2025-12-30T17:25:28.6184915Z ============================================================
2025-12-30T17:25:28.6185359Z Running speciation on /home/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:25:28.6185814Z [INFO] Working directory: /tmp/tmpdoz6nia6
2025-12-30T17:25:28.6186140Z Getting wrm_data_latest.csv ready. This will take a moment...
2025-12-30T17:25:28.6186634Z No 'charge_balance_on' column found in input file. Defaulting to no charge balancing for all samples.
2025-12-30T17:25:28.6187302Z Warning: a column for Pressure was not found in the sample input file. Defaulting to water saturation pressure...
2025-12-30T17:25:28.6187899Z [FAIL] Error during water-rock reaction: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:25:28.6188190Z 
2025-12-30T17:25:28.6188288Z ============================================================
2025-12-30T17:25:28.6188535Z TEST SUMMARY
2025-12-30T17:25:28.6188731Z ============================================================
2025-12-30T17:25:28.6188999Z [FAIL] Bundled Executables
2025-12-30T17:25:28.6189231Z [PASS] Import and Basic Usage
2025-12-30T17:25:28.6190043Z [FAIL] EQPT Data0 to Data1 Conversion
2025-12-30T17:25:28.6190531Z [FAIL] Simple Speciation (wrm database)
2025-12-30T17:25:28.6190841Z [FAIL] Water-Rock Reaction
2025-12-30T17:25:28.6191084Z ============================================================
2025-12-30T17:25:28.6191275Z 
2025-12-30T17:25:28.6191358Z [FAIL] Some tests failed!
2025-12-30T17:25:28.8316234Z ##[error]Process completed with exit code 1.
