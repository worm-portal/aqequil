2025-12-30T17:26:01.6771928Z ##[group]Run python test_integration.py
2025-12-30T17:26:01.6772316Z [36;1mpython test_integration.py[0m
2025-12-30T17:26:01.6785220Z shell: C:\Program Files\Git\bin\bash.EXE --noprofile --norc -e -o pipefail {0}
2025-12-30T17:26:01.6785588Z env:
2025-12-30T17:26:01.6785841Z   pythonLocation: C:\hostedtoolcache\windows\Python\3.11.9\x64
2025-12-30T17:26:01.6786256Z   PKG_CONFIG_PATH: C:\hostedtoolcache\windows\Python\3.11.9\x64/lib/pkgconfig
2025-12-30T17:26:01.6786675Z   Python_ROOT_DIR: C:\hostedtoolcache\windows\Python\3.11.9\x64
2025-12-30T17:26:01.6787051Z   Python2_ROOT_DIR: C:\hostedtoolcache\windows\Python\3.11.9\x64
2025-12-30T17:26:01.6787413Z   Python3_ROOT_DIR: C:\hostedtoolcache\windows\Python\3.11.9\x64
2025-12-30T17:26:01.6787703Z ##[endgroup]
2025-12-30T17:26:09.4019862Z Traceback (most recent call last):
2025-12-30T17:26:09.4031712Z   File "D:\a\aqequil\aqequil\aqequil\AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:26:09.4032587Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:26:09.4034226Z   File "D:\a\aqequil\aqequil\aqequil\AqSpeciation.py", line 1104, in __run_eq_executable
2025-12-30T17:26:09.4035731Z     exe_path = os.path.join(self.eq36co, f"{exe_name}.exe")
2025-12-30T17:26:09.4036269Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:26:09.4036785Z   File "<frozen ntpath>", line 108, in join
2025-12-30T17:26:09.4037352Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:26:09.4037786Z 
2025-12-30T17:26:09.4038071Z During handling of the above exception, another exception occurred:
2025-12-30T17:26:09.4038536Z 
2025-12-30T17:26:09.4038695Z Traceback (most recent call last):
2025-12-30T17:26:09.4039384Z   File "D:\a\aqequil\aqequil\test_integration.py", line 119, in test_runeqpt
2025-12-30T17:26:09.4040037Z     ae.runeqpt('wrm')
2025-12-30T17:26:09.4040608Z   File "D:\a\aqequil\aqequil\aqequil\AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:26:09.4041253Z     self.err_handler.raise_exception(
2025-12-30T17:26:09.4042445Z   File "C:\hostedtoolcache\windows\Python\3.11.9\x64\Lib\site-packages\wormutils\Error_Handler.py", line 57, in raise_exception
2025-12-30T17:26:09.4043431Z     raise Exception(msg)
2025-12-30T17:26:09.4043872Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:09.4072718Z Traceback (most recent call last):
2025-12-30T17:26:09.4074821Z   File "D:\a\aqequil\aqequil\aqequil\AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:26:09.4075643Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:26:09.4076536Z   File "D:\a\aqequil\aqequil\aqequil\AqSpeciation.py", line 1104, in __run_eq_executable
2025-12-30T17:26:09.4077365Z     exe_path = os.path.join(self.eq36co, f"{exe_name}.exe")
2025-12-30T17:26:09.4077936Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:26:09.4078469Z   File "<frozen ntpath>", line 108, in join
2025-12-30T17:26:09.4079090Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:26:09.4079576Z 
2025-12-30T17:26:09.4079873Z During handling of the above exception, another exception occurred:
2025-12-30T17:26:09.4080328Z 
2025-12-30T17:26:09.4080478Z Traceback (most recent call last):
2025-12-30T17:26:09.4081219Z   File "D:\a\aqequil\aqequil\test_integration.py", line 186, in test_speciation_simple
2025-12-30T17:26:09.4081925Z     ae_eqpt.runeqpt('wrm')
2025-12-30T17:26:09.4082557Z   File "D:\a\aqequil\aqequil\aqequil\AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:26:09.4083208Z     self.err_handler.raise_exception(
2025-12-30T17:26:09.4084208Z   File "C:\hostedtoolcache\windows\Python\3.11.9\x64\Lib\site-packages\wormutils\Error_Handler.py", line 57, in raise_exception
2025-12-30T17:26:09.4085449Z     raise Exception(msg)
2025-12-30T17:26:09.4085877Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:17.5417451Z Traceback (most recent call last):
2025-12-30T17:26:17.5419096Z   File "D:\a\aqequil\aqequil\aqequil\AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:26:17.5421973Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:26:17.5422923Z   File "D:\a\aqequil\aqequil\aqequil\AqSpeciation.py", line 1104, in __run_eq_executable
2025-12-30T17:26:17.5423617Z     exe_path = os.path.join(self.eq36co, f"{exe_name}.exe")
2025-12-30T17:26:17.5424120Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:26:17.5424598Z   File "<frozen ntpath>", line 108, in join
2025-12-30T17:26:17.5425189Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:26:17.5425624Z 
2025-12-30T17:26:17.5425877Z During handling of the above exception, another exception occurred:
2025-12-30T17:26:17.5426284Z 
2025-12-30T17:26:17.5426449Z Traceback (most recent call last):
2025-12-30T17:26:17.5427303Z   File "D:\a\aqequil\aqequil\test_integration.py", line 253, in test_water_rock_reaction
2025-12-30T17:26:17.5428092Z     speciation = ae.speciate(
2025-12-30T17:26:17.5428502Z                  ^^^^^^^^^^^^
2025-12-30T17:26:17.5429096Z   File "D:\a\aqequil\aqequil\aqequil\AqSpeciation.py", line 1926, in speciate
2025-12-30T17:26:17.5429755Z     self.runeqpt(data0_lettercode, dynamic_db=True)
2025-12-30T17:26:17.5430404Z   File "D:\a\aqequil\aqequil\aqequil\AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:26:17.5431025Z     self.err_handler.raise_exception(
2025-12-30T17:26:17.5431995Z   File "C:\hostedtoolcache\windows\Python\3.11.9\x64\Lib\site-packages\wormutils\Error_Handler.py", line 57, in raise_exception
2025-12-30T17:26:17.5432560Z     raise Exception(msg)
2025-12-30T17:26:17.5432802Z Exception: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:26:17.5433065Z 
2025-12-30T17:26:17.5433170Z ============================================================
2025-12-30T17:26:17.5433448Z AQEQUIL INTEGRATION TEST SUITE
2025-12-30T17:26:17.5433678Z ============================================================
2025-12-30T17:26:17.5433924Z Python: 3.11.9
2025-12-30T17:26:17.5434091Z Platform: win32
2025-12-30T17:26:17.5434262Z Architecture: AMD64
2025-12-30T17:26:17.5434457Z ============================================================
2025-12-30T17:26:17.5434703Z ============================================================
2025-12-30T17:26:17.5434977Z Test 1: Checking for bundled EQ3/6 executables
2025-12-30T17:26:17.5435244Z ============================================================
2025-12-30T17:26:17.5435515Z [FAIL] No bundled executables found!
2025-12-30T17:26:17.5435684Z 
2025-12-30T17:26:17.5435764Z ============================================================
2025-12-30T17:26:17.5436030Z Test 2: Testing aqequil import and basic usage
2025-12-30T17:26:17.5436290Z ============================================================
2025-12-30T17:26:17.5436543Z [OK] Successfully imported aqequil
2025-12-30T17:26:17.5436894Z [OK] Found test data at: D:\a\aqequil\aqequil\aqequil\test_data\input_example_wrm.csv
2025-12-30T17:26:17.5437196Z 
2025-12-30T17:26:17.5437283Z ============================================================
2025-12-30T17:26:17.5437561Z Test 3: Testing runeqpt (data0 to data1 conversion)
2025-12-30T17:26:17.5437830Z ============================================================
2025-12-30T17:26:17.5438177Z [INFO] Working directory: C:\Users\RUNNER~1\AppData\Local\Temp\tmpso4hw94w
2025-12-30T17:26:17.5438542Z [OK] Copied data0.wrm to working directory
2025-12-30T17:26:17.5438783Z Running EQPT on data0.wrm...
2025-12-30T17:26:17.5439075Z [FAIL] Error during runeqpt: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:17.5439431Z [WARN] Known win32 issue with EQPT runtime detected
2025-12-30T17:26:17.5439758Z [INFO] Skipping runeqpt test due to platform-specific issues
2025-12-30T17:26:17.5440789Z 
2025-12-30T17:26:17.5440875Z ============================================================
2025-12-30T17:26:17.5441168Z Test 4: Testing simple speciation (wrm database)
2025-12-30T17:26:17.5441446Z ============================================================
2025-12-30T17:26:17.5442265Z Running speciation on D:\a\aqequil\aqequil\aqequil\test_data\input_example_wrm.csv...
2025-12-30T17:26:17.5443239Z [INFO] Working directory: C:\Users\RUNNER~1\AppData\Local\Temp\tmp4lwzsvbl
2025-12-30T17:26:17.5443610Z [OK] Copied data0.wrm to working directory
2025-12-30T17:26:17.5443862Z Running EQPT to create data1.wrm...
2025-12-30T17:26:17.5444206Z [FAIL] Error during simple speciation: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:17.5444615Z [WARN] Known win32 issue - skipping test
2025-12-30T17:26:17.5444788Z 
2025-12-30T17:26:17.5444881Z ============================================================
2025-12-30T17:26:17.5445130Z Test 5: Testing water-rock reaction
2025-12-30T17:26:17.5445366Z ============================================================
2025-12-30T17:26:17.5445747Z Running speciation on D:\a\aqequil\aqequil\aqequil\test_data\input_example_wrm.csv...
2025-12-30T17:26:17.5446221Z [INFO] Working directory: C:\Users\RUNNER~1\AppData\Local\Temp\tmpu2x0cln6
2025-12-30T17:26:17.5446632Z Getting wrm_data_latest.csv ready. This will take a moment...
2025-12-30T17:26:17.5447121Z No 'charge_balance_on' column found in input file. Defaulting to no charge balancing for all samples.
2025-12-30T17:26:17.5447776Z Warning: a column for Pressure was not found in the sample input file. Defaulting to water saturation pressure...
2025-12-30T17:26:17.5448354Z [FAIL] Error during water-rock reaction: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:26:17.5448726Z [WARN] Known win32 issue - skipping test
2025-12-30T17:26:17.5448898Z 
2025-12-30T17:26:17.5448978Z ============================================================
2025-12-30T17:26:17.5449271Z TEST SUMMARY
2025-12-30T17:26:17.5449475Z ============================================================
2025-12-30T17:26:17.5449717Z [FAIL] Bundled Executables
2025-12-30T17:26:17.5449932Z [PASS] Import and Basic Usage
2025-12-30T17:26:17.5450156Z [PASS] EQPT Data0 to Data1 Conversion
2025-12-30T17:26:17.5450404Z [PASS] Simple Speciation (wrm database)
2025-12-30T17:26:17.5450647Z [PASS] Water-Rock Reaction
2025-12-30T17:26:17.5450855Z ============================================================
2025-12-30T17:26:17.5451026Z 
2025-12-30T17:26:17.5451094Z [FAIL] Some tests failed!
2025-12-30T17:26:17.7926601Z ##[error]Process completed with exit code 1.
