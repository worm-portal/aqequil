2025-12-30T17:25:13.9744671Z ##[group]Run python test_integration.py
2025-12-30T17:25:13.9745029Z [36;1mpython test_integration.py[0m
2025-12-30T17:25:13.9779206Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-12-30T17:25:13.9779524Z env:
2025-12-30T17:25:13.9779770Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.12/x64
2025-12-30T17:25:13.9780188Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.12/x64/lib/pkgconfig
2025-12-30T17:25:13.9780621Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2025-12-30T17:25:13.9780981Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2025-12-30T17:25:13.9781350Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2025-12-30T17:25:13.9781725Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.12/x64/lib
2025-12-30T17:25:13.9782029Z ##[endgroup]
2025-12-30T17:25:18.1976071Z Traceback (most recent call last):
2025-12-30T17:25:18.1984490Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:18.1985176Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:18.1985897Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:18.1986422Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:18.1986717Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:25:18.1987025Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:25:18.1987382Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:18.1987653Z 
2025-12-30T17:25:18.1987827Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:18.1988095Z 
2025-12-30T17:25:18.1988186Z Traceback (most recent call last):
2025-12-30T17:25:18.1988613Z   File "/home/runner/work/aqequil/aqequil/test_integration.py", line 119, in test_runeqpt
2025-12-30T17:25:18.1989270Z     ae.runeqpt('wrm')
2025-12-30T17:25:18.1989655Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:18.1990090Z     self.err_handler.raise_exception(
2025-12-30T17:25:18.1990682Z   File "/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:18.1991255Z     raise Exception(msg)
2025-12-30T17:25:18.1991501Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:18.2003241Z Traceback (most recent call last):
2025-12-30T17:25:18.2004851Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:18.2005380Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:18.2006115Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:18.2006653Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:18.2006941Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:25:18.2007236Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:25:18.2007596Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:18.2007862Z 
2025-12-30T17:25:18.2008034Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:18.2008297Z 
2025-12-30T17:25:18.2008386Z Traceback (most recent call last):
2025-12-30T17:25:18.2008866Z   File "/home/runner/work/aqequil/aqequil/test_integration.py", line 186, in test_speciation_simple
2025-12-30T17:25:18.2009340Z     ae_eqpt.runeqpt('wrm')
2025-12-30T17:25:18.2009764Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:18.2010195Z     self.err_handler.raise_exception(
2025-12-30T17:25:18.2010786Z   File "/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:18.2011361Z     raise Exception(msg)
2025-12-30T17:25:18.2011608Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:26.0469668Z Traceback (most recent call last):
2025-12-30T17:25:26.0471071Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:26.0472049Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:26.0473111Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:26.0474230Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:26.0474734Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:25:26.0475336Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:25:26.0475945Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:26.0476414Z 
2025-12-30T17:25:26.0476724Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:26.0477225Z 
2025-12-30T17:25:26.0477380Z Traceback (most recent call last):
2025-12-30T17:25:26.0478323Z   File "/home/runner/work/aqequil/aqequil/test_integration.py", line 253, in test_water_rock_reaction
2025-12-30T17:25:26.0479135Z     speciation = ae.speciate(
2025-12-30T17:25:26.0479509Z                  ^^^^^^^^^^^^
2025-12-30T17:25:26.0480215Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1926, in speciate
2025-12-30T17:25:26.0480999Z     self.runeqpt(data0_lettercode, dynamic_db=True)
2025-12-30T17:25:26.0481807Z   File "/home/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:26.0482488Z     self.err_handler.raise_exception(
2025-12-30T17:25:26.0483433Z   File "/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:26.0484560Z     raise Exception(msg)
2025-12-30T17:25:26.0484960Z Exception: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:25:26.0485593Z 
2025-12-30T17:25:26.0485749Z ============================================================
2025-12-30T17:25:26.0486167Z AQEQUIL INTEGRATION TEST SUITE
2025-12-30T17:25:26.0486564Z ============================================================
2025-12-30T17:25:26.0486957Z Python: 3.12.12
2025-12-30T17:25:26.0487230Z Platform: linux
2025-12-30T17:25:26.0487503Z Architecture: x86_64
2025-12-30T17:25:26.0487825Z ============================================================
2025-12-30T17:25:26.0488259Z ============================================================
2025-12-30T17:25:26.0488693Z Test 1: Checking for bundled EQ3/6 executables
2025-12-30T17:25:26.0489133Z ============================================================
2025-12-30T17:25:26.0489573Z [FAIL] No bundled executables found!
2025-12-30T17:25:26.0489837Z 
2025-12-30T17:25:26.0489972Z ============================================================
2025-12-30T17:25:26.0490412Z Test 2: Testing aqequil import and basic usage
2025-12-30T17:25:26.0490863Z ============================================================
2025-12-30T17:25:26.0491290Z [OK] Successfully imported aqequil
2025-12-30T17:25:26.0491936Z [OK] Found test data at: /home/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv
2025-12-30T17:25:26.0492547Z 
2025-12-30T17:25:26.0492688Z ============================================================
2025-12-30T17:25:26.0493170Z Test 3: Testing runeqpt (data0 to data1 conversion)
2025-12-30T17:25:26.0493615Z ============================================================
2025-12-30T17:25:26.0494222Z [INFO] Working directory: /tmp/tmp56mriea1
2025-12-30T17:25:26.0494647Z [OK] Copied data0.wrm to working directory
2025-12-30T17:25:26.0495044Z Running EQPT on data0.wrm...
2025-12-30T17:25:26.0495518Z [FAIL] Error during runeqpt: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:26.0495935Z 
2025-12-30T17:25:26.0496072Z ============================================================
2025-12-30T17:25:26.0496526Z Test 4: Testing simple speciation (wrm database)
2025-12-30T17:25:26.0496998Z ============================================================
2025-12-30T17:25:26.0497729Z Running speciation on /home/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:25:26.0498691Z [INFO] Working directory: /tmp/tmpxkl9sxwq
2025-12-30T17:25:26.0499129Z [OK] Copied data0.wrm to working directory
2025-12-30T17:25:26.0499534Z Running EQPT to create data1.wrm...
2025-12-30T17:25:26.0500087Z [FAIL] Error during simple speciation: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:26.0500551Z 
2025-12-30T17:25:26.0500692Z ============================================================
2025-12-30T17:25:26.0501109Z Test 5: Testing water-rock reaction
2025-12-30T17:25:26.0501487Z ============================================================
2025-12-30T17:25:26.0502194Z Running speciation on /home/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:25:26.0502941Z [INFO] Working directory: /tmp/tmpa6uuch9m
2025-12-30T17:25:26.0503444Z Getting wrm_data_latest.csv ready. This will take a moment...
2025-12-30T17:25:26.0504393Z No 'charge_balance_on' column found in input file. Defaulting to no charge balancing for all samples.
2025-12-30T17:25:26.0505466Z Warning: a column for Pressure was not found in the sample input file. Defaulting to water saturation pressure...
2025-12-30T17:25:26.0506428Z [FAIL] Error during water-rock reaction: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:25:26.0506895Z 
2025-12-30T17:25:26.0507023Z ============================================================
2025-12-30T17:25:26.0507410Z TEST SUMMARY
2025-12-30T17:25:26.0507694Z ============================================================
2025-12-30T17:25:26.0508090Z [FAIL] Bundled Executables
2025-12-30T17:25:26.0508422Z [PASS] Import and Basic Usage
2025-12-30T17:25:26.0508795Z [FAIL] EQPT Data0 to Data1 Conversion
2025-12-30T17:25:26.0509255Z [FAIL] Simple Speciation (wrm database)
2025-12-30T17:25:26.0509822Z [FAIL] Water-Rock Reaction
2025-12-30T17:25:26.0510159Z ============================================================
2025-12-30T17:25:26.0510453Z 
2025-12-30T17:25:26.0510568Z [FAIL] Some tests failed!
2025-12-30T17:25:26.2555700Z ##[error]Process completed with exit code 1.
