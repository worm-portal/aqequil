2025-12-30T17:26:07.6366690Z ##[group]Run python test_integration.py
2025-12-30T17:26:07.6368010Z [36;1mpython test_integration.py[0m
2025-12-30T17:26:07.6498120Z shell: /bin/bash --noprofile --norc -e -o pipefail {0}
2025-12-30T17:26:07.6498490Z env:
2025-12-30T17:26:07.6499020Z   pythonLocation: /Users/runner/hostedtoolcache/Python/3.10.11/arm64
2025-12-30T17:26:07.6499490Z   PKG_CONFIG_PATH: /Users/runner/hostedtoolcache/Python/3.10.11/arm64/lib/pkgconfig
2025-12-30T17:26:07.6499990Z   Python_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.10.11/arm64
2025-12-30T17:26:07.6500500Z   Python2_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.10.11/arm64
2025-12-30T17:26:07.6500900Z   Python3_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.10.11/arm64
2025-12-30T17:26:07.6501240Z ##[endgroup]
2025-12-30T17:26:09.7726540Z Traceback (most recent call last):
2025-12-30T17:26:09.7742450Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:26:09.7745110Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:26:09.7748100Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:26:09.7753320Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:26:09.7857870Z   File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/posixpath.py", line 76, in join
2025-12-30T17:26:09.7906760Z     a = os.fspath(a)
2025-12-30T17:26:09.8008210Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:26:09.8111850Z 
2025-12-30T17:26:09.8214470Z During handling of the above exception, another exception occurred:
2025-12-30T17:26:09.8316450Z 
2025-12-30T17:26:09.8398860Z Traceback (most recent call last):
2025-12-30T17:26:09.8411930Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 119, in test_runeqpt
2025-12-30T17:26:09.8413260Z     ae.runeqpt('wrm')
2025-12-30T17:26:09.8414480Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:26:09.8415350Z     self.err_handler.raise_exception(
2025-12-30T17:26:09.8416110Z   File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:26:09.8416700Z     raise Exception(msg)
2025-12-30T17:26:09.8417050Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:09.8417410Z Traceback (most recent call last):
2025-12-30T17:26:09.8421850Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:26:09.8422630Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:26:09.8423170Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:26:09.8423630Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:26:09.8424190Z   File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/posixpath.py", line 76, in join
2025-12-30T17:26:09.8424710Z     a = os.fspath(a)
2025-12-30T17:26:09.8425380Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:26:09.8425620Z 
2025-12-30T17:26:09.8425840Z During handling of the above exception, another exception occurred:
2025-12-30T17:26:09.8426140Z 
2025-12-30T17:26:09.8426210Z Traceback (most recent call last):
2025-12-30T17:26:09.8431150Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 186, in test_speciation_simple
2025-12-30T17:26:09.8431690Z     ae_eqpt.runeqpt('wrm')
2025-12-30T17:26:09.8432240Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:26:09.8438180Z     self.err_handler.raise_exception(
2025-12-30T17:26:09.8448450Z   File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:26:09.8449170Z     raise Exception(msg)
2025-12-30T17:26:09.8449450Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:16.3038300Z Traceback (most recent call last):
2025-12-30T17:26:16.3166940Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:26:16.3167870Z 
2025-12-30T17:26:16.3178790Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:26:16.3179320Z ============================================================
2025-12-30T17:26:16.3241010Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:26:16.3241820Z AQEQUIL INTEGRATION TEST SUITE
2025-12-30T17:26:16.3343020Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:26:16.3343460Z ============================================================
2025-12-30T17:26:16.3474050Z   File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/posixpath.py", line 76, in join
2025-12-30T17:26:16.3475380Z Python: 3.10.11
2025-12-30T17:26:16.3543480Z     a = os.fspath(a)
2025-12-30T17:26:16.3549660Z Platform: darwin
2025-12-30T17:26:16.3550330Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:26:16.3550680Z Architecture: arm64
2025-12-30T17:26:16.3550950Z 
2025-12-30T17:26:16.3552290Z ============================================================
2025-12-30T17:26:16.3552810Z During handling of the above exception, another exception occurred:
2025-12-30T17:26:16.3553180Z ============================================================
2025-12-30T17:26:16.3555890Z 
2025-12-30T17:26:16.3556100Z Test 1: Checking for bundled EQ3/6 executables
2025-12-30T17:26:16.3556470Z Traceback (most recent call last):
2025-12-30T17:26:16.3557020Z ============================================================
2025-12-30T17:26:16.3686670Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 253, in test_water_rock_reaction
2025-12-30T17:26:16.3687630Z [FAIL] No bundled executables found!
2025-12-30T17:26:16.3819750Z     speciation = ae.speciate(
2025-12-30T17:26:16.3820030Z 
2025-12-30T17:26:16.3914070Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1926, in speciate
2025-12-30T17:26:16.3914820Z ============================================================
2025-12-30T17:26:16.4020950Z     self.runeqpt(data0_lettercode, dynamic_db=True)
2025-12-30T17:26:16.4021380Z Test 2: Testing aqequil import and basic usage
2025-12-30T17:26:16.4127340Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:26:16.4128040Z ============================================================
2025-12-30T17:26:16.4230540Z     self.err_handler.raise_exception(
2025-12-30T17:26:16.4231490Z [OK] Successfully imported aqequil
2025-12-30T17:26:16.4335640Z   File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:26:16.4340270Z [OK] Found test data at: /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv
2025-12-30T17:26:16.4469670Z     raise Exception(msg)
2025-12-30T17:26:16.4470030Z 
2025-12-30T17:26:16.4544540Z Exception: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:26:16.4545040Z ============================================================
2025-12-30T17:26:16.4647910Z Test 3: Testing runeqpt (data0 to data1 conversion)
2025-12-30T17:26:16.4750210Z ============================================================
2025-12-30T17:26:16.4851750Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmp4mj7oicq
2025-12-30T17:26:16.4953180Z [OK] Copied data0.wrm to working directory
2025-12-30T17:26:16.5009890Z Running EQPT on data0.wrm...
2025-12-30T17:26:16.5010760Z [FAIL] Error during runeqpt: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:16.5011130Z 
2025-12-30T17:26:16.5011330Z ============================================================
2025-12-30T17:26:16.5011750Z Test 4: Testing simple speciation (wrm database)
2025-12-30T17:26:16.5012100Z ============================================================
2025-12-30T17:26:16.5013370Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:26:16.5013980Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmpk4jx_p_k
2025-12-30T17:26:16.5014520Z [OK] Copied data0.wrm to working directory
2025-12-30T17:26:16.5014840Z Running EQPT to create data1.wrm...
2025-12-30T17:26:16.5015250Z [FAIL] Error during simple speciation: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:26:16.5015600Z 
2025-12-30T17:26:16.5015800Z ============================================================
2025-12-30T17:26:16.5016150Z Test 5: Testing water-rock reaction
2025-12-30T17:26:16.5016470Z ============================================================
2025-12-30T17:26:16.5017020Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:26:16.5017610Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmp16evagtu
2025-12-30T17:26:16.5018150Z Getting wrm_data_latest.csv ready. This will take a moment...
2025-12-30T17:26:16.5018700Z No 'charge_balance_on' column found in input file. Defaulting to no charge balancing for all samples.
2025-12-30T17:26:16.5019800Z Warning: a column for Pressure was not found in the sample input file. Defaulting to water saturation pressure...
2025-12-30T17:26:16.5020470Z [FAIL] Error during water-rock reaction: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:26:16.5020850Z 
2025-12-30T17:26:16.5020980Z ============================================================
2025-12-30T17:26:16.5021360Z TEST SUMMARY
2025-12-30T17:26:16.5021610Z ============================================================
2025-12-30T17:26:16.5021930Z [FAIL] Bundled Executables
2025-12-30T17:26:16.5022280Z [PASS] Import and Basic Usage
2025-12-30T17:26:16.5022770Z [FAIL] EQPT Data0 to Data1 Conversion
2025-12-30T17:26:16.5023950Z [FAIL] Simple Speciation (wrm database)
2025-12-30T17:26:16.5024580Z [FAIL] Water-Rock Reaction
2025-12-30T17:26:16.5024890Z ============================================================
2025-12-30T17:26:16.5025210Z 
2025-12-30T17:26:16.5025420Z [FAIL] Some tests failed!
2025-12-30T17:26:16.5786290Z ##[error]Process completed with exit code 1.
