2025-12-30T17:27:03.0793060Z ##[group]Run python test_integration.py
2025-12-30T17:27:03.0793840Z [36;1mpython test_integration.py[0m
2025-12-30T17:27:03.0868180Z shell: /bin/bash --noprofile --norc -e -o pipefail {0}
2025-12-30T17:27:03.0868940Z env:
2025-12-30T17:27:03.0869550Z   pythonLocation: /Users/runner/hostedtoolcache/Python/3.13.11/x64
2025-12-30T17:27:03.0870660Z   PKG_CONFIG_PATH: /Users/runner/hostedtoolcache/Python/3.13.11/x64/lib/pkgconfig
2025-12-30T17:27:03.0871780Z   Python_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.13.11/x64
2025-12-30T17:27:03.0872800Z   Python2_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.13.11/x64
2025-12-30T17:27:03.0873760Z   Python3_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.13.11/x64
2025-12-30T17:27:03.0874560Z ##[endgroup]
2025-12-30T17:27:05.4874040Z Traceback (most recent call last):
2025-12-30T17:27:05.4904470Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:27:05.4912620Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:27:05.4926170Z     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:05.4931480Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:27:05.4935660Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:27:05.4941140Z   File "<frozen posixpath>", line 77, in join
2025-12-30T17:27:05.4943330Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:27:05.4950360Z 
2025-12-30T17:27:05.4960000Z During handling of the above exception, another exception occurred:
2025-12-30T17:27:05.4961670Z 
2025-12-30T17:27:05.4964280Z Traceback (most recent call last):
2025-12-30T17:27:05.4967900Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 119, in test_runeqpt
2025-12-30T17:27:05.4973440Z     ae.runeqpt('wrm')
2025-12-30T17:27:05.4975580Z     ~~~~~~~~~~^^^^^^^
2025-12-30T17:27:05.4979620Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:27:05.4981590Z     self.err_handler.raise_exception(
2025-12-30T17:27:05.4986310Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
2025-12-30T17:27:05.5006970Z         "Error: EQPT failed to run on {}.".format("data0."+db))
2025-12-30T17:27:05.5019350Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:05.5030300Z   File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:27:05.5035790Z     raise Exception(msg)
2025-12-30T17:27:05.5042150Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:27:05.5044530Z Traceback (most recent call last):
2025-12-30T17:27:05.5047650Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:27:05.5049970Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:27:05.5052440Z     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:05.5054760Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:27:05.5056020Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:27:05.5056810Z   File "<frozen posixpath>", line 77, in join
2025-12-30T17:27:05.5057660Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:27:05.5058300Z 
2025-12-30T17:27:05.5058690Z During handling of the above exception, another exception occurred:
2025-12-30T17:27:05.5059310Z 
2025-12-30T17:27:05.5059550Z Traceback (most recent call last):
2025-12-30T17:27:05.5060660Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 186, in test_speciation_simple
2025-12-30T17:27:05.5061970Z     ae_eqpt.runeqpt('wrm')
2025-12-30T17:27:05.5062500Z     ~~~~~~~~~~~~~~~^^^^^^^
2025-12-30T17:27:05.5063900Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:27:05.5065030Z     self.err_handler.raise_exception(
2025-12-30T17:27:05.5066380Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
2025-12-30T17:27:05.5067480Z         "Error: EQPT failed to run on {}.".format("data0."+db))
2025-12-30T17:27:05.5068240Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:05.5069830Z   File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:27:05.5071350Z     raise Exception(msg)
2025-12-30T17:27:05.5071960Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:27:18.9111150Z Traceback (most recent call last):
2025-12-30T17:27:18.9122420Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:27:18.9130430Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:27:18.9143530Z     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:18.9191730Z 
2025-12-30T17:27:18.9204060Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:27:18.9206300Z ============================================================
2025-12-30T17:27:18.9208220Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:27:18.9212540Z AQEQUIL INTEGRATION TEST SUITE
2025-12-30T17:27:18.9214060Z   File "<frozen posixpath>", line 77, in join
2025-12-30T17:27:18.9215910Z ============================================================
2025-12-30T17:27:18.9216830Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:27:18.9217480Z 
2025-12-30T17:27:18.9217880Z During handling of the above exception, another exception occurred:
2025-12-30T17:27:18.9218510Z 
2025-12-30T17:27:18.9218760Z Traceback (most recent call last):
2025-12-30T17:27:18.9220260Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 253, in test_water_rock_reaction
2025-12-30T17:27:18.9221410Z     speciation = ae.speciate(
2025-12-30T17:27:18.9221990Z         input_filename=test_csv,
2025-12-30T17:27:18.9222540Z         exclude=["Year", "Area"]
2025-12-30T17:27:18.9223030Z     )
2025-12-30T17:27:18.9223890Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1926, in speciate
2025-12-30T17:27:18.9225000Z     self.runeqpt(data0_lettercode, dynamic_db=True)
2025-12-30T17:27:18.9225720Z     ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:18.9226720Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:27:18.9227730Z     self.err_handler.raise_exception(
2025-12-30T17:27:18.9228430Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
2025-12-30T17:27:18.9229090Z         "Error: EQPT failed to run on {}.".format("data0."+db))
2025-12-30T17:27:18.9229860Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:18.9231540Z   File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:27:18.9233230Z     raise Exception(msg)
2025-12-30T17:27:18.9233810Z Exception: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:27:18.9234510Z Python: 3.13.11
2025-12-30T17:27:18.9234960Z Platform: darwin
2025-12-30T17:27:18.9235430Z Architecture: x86_64
2025-12-30T17:27:18.9235900Z ============================================================
2025-12-30T17:27:18.9236560Z ============================================================
2025-12-30T17:27:18.9237240Z Test 1: Checking for bundled EQ3/6 executables
2025-12-30T17:27:18.9237900Z ============================================================
2025-12-30T17:27:18.9238900Z [FAIL] No bundled executables found!
2025-12-30T17:27:18.9239350Z 
2025-12-30T17:27:18.9239550Z ============================================================
2025-12-30T17:27:18.9240240Z Test 2: Testing aqequil import and basic usage
2025-12-30T17:27:18.9240880Z ============================================================
2025-12-30T17:27:18.9241520Z [OK] Successfully imported aqequil
2025-12-30T17:27:18.9243330Z [OK] Found test data at: /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv
2025-12-30T17:27:18.9244600Z 
2025-12-30T17:27:18.9244840Z ============================================================
2025-12-30T17:27:18.9245520Z Test 3: Testing runeqpt (data0 to data1 conversion)
2025-12-30T17:27:18.9246230Z ============================================================
2025-12-30T17:27:18.9247190Z [INFO] Working directory: /var/folders/6k/3_2ylbdd4rl8w3kbs55s3kk80000gn/T/tmpcjr8pcwd
2025-12-30T17:27:18.9248150Z [OK] Copied data0.wrm to working directory
2025-12-30T17:27:18.9248790Z Running EQPT on data0.wrm...
2025-12-30T17:27:18.9249530Z [FAIL] Error during runeqpt: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:27:18.9250140Z 
2025-12-30T17:27:18.9250360Z ============================================================
2025-12-30T17:27:18.9251030Z Test 4: Testing simple speciation (wrm database)
2025-12-30T17:27:18.9251710Z ============================================================
2025-12-30T17:27:18.9252820Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:27:18.9254200Z [INFO] Working directory: /var/folders/6k/3_2ylbdd4rl8w3kbs55s3kk80000gn/T/tmpnhlxfgo1
2025-12-30T17:27:18.9255200Z [OK] Copied data0.wrm to working directory
2025-12-30T17:27:18.9255840Z Running EQPT to create data1.wrm...
2025-12-30T17:27:18.9256710Z [FAIL] Error during simple speciation: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:27:18.9257410Z 
2025-12-30T17:27:18.9257620Z ============================================================
2025-12-30T17:27:18.9258260Z Test 5: Testing water-rock reaction
2025-12-30T17:27:18.9258880Z ============================================================
2025-12-30T17:27:18.9260170Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:27:18.9261610Z [INFO] Working directory: /var/folders/6k/3_2ylbdd4rl8w3kbs55s3kk80000gn/T/tmpxaouj793
2025-12-30T17:27:18.9262750Z Getting wrm_data_latest.csv ready. This will take a moment...
2025-12-30T17:27:18.9263970Z No 'charge_balance_on' column found in input file. Defaulting to no charge balancing for all samples.
2025-12-30T17:27:18.9265540Z Warning: a column for Pressure was not found in the sample input file. Defaulting to water saturation pressure...
2025-12-30T17:27:18.9267250Z [FAIL] Error during water-rock reaction: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:27:18.9268080Z 
2025-12-30T17:27:18.9268290Z ============================================================
2025-12-30T17:27:18.9268920Z TEST SUMMARY
2025-12-30T17:27:18.9269360Z ============================================================
2025-12-30T17:27:18.9269970Z [FAIL] Bundled Executables
2025-12-30T17:27:18.9270530Z [PASS] Import and Basic Usage
2025-12-30T17:27:18.9271110Z [FAIL] EQPT Data0 to Data1 Conversion
2025-12-30T17:27:18.9271720Z [FAIL] Simple Speciation (wrm database)
2025-12-30T17:27:18.9272350Z [FAIL] Water-Rock Reaction
2025-12-30T17:27:18.9272900Z ============================================================
2025-12-30T17:27:18.9273340Z 
2025-12-30T17:27:18.9273510Z [FAIL] Some tests failed!
2025-12-30T17:27:19.2153210Z ##[error]Process completed with exit code 1.
