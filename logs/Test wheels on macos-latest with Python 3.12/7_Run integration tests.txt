2025-12-30T17:25:18.4119520Z ##[group]Run python test_integration.py
2025-12-30T17:25:18.4119860Z [36;1mpython test_integration.py[0m
2025-12-30T17:25:18.4152380Z shell: /bin/bash --noprofile --norc -e -o pipefail {0}
2025-12-30T17:25:18.4152680Z env:
2025-12-30T17:25:18.4153020Z   pythonLocation: /Users/runner/hostedtoolcache/Python/3.12.10/arm64
2025-12-30T17:25:18.4153450Z   PKG_CONFIG_PATH: /Users/runner/hostedtoolcache/Python/3.12.10/arm64/lib/pkgconfig
2025-12-30T17:25:18.4153860Z   Python_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.12.10/arm64
2025-12-30T17:25:18.4154270Z   Python2_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.12.10/arm64
2025-12-30T17:25:18.4159780Z   Python3_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.12.10/arm64
2025-12-30T17:25:18.4160060Z ##[endgroup]
2025-12-30T17:25:19.4421800Z Traceback (most recent call last):
2025-12-30T17:25:19.4423050Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:19.4423690Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:19.4435540Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:19.4436120Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:19.4437710Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:25:19.4438190Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:25:19.4438640Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:19.4438950Z 
2025-12-30T17:25:19.4439230Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:19.4439620Z 
2025-12-30T17:25:19.4439780Z Traceback (most recent call last):
2025-12-30T17:25:19.4440330Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 119, in test_runeqpt
2025-12-30T17:25:19.4440840Z     ae.runeqpt('wrm')
2025-12-30T17:25:19.4442290Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:19.4442810Z     self.err_handler.raise_exception(
2025-12-30T17:25:19.4447240Z   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:19.4447890Z     raise Exception(msg)
2025-12-30T17:25:19.4448200Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:19.4448700Z Traceback (most recent call last):
2025-12-30T17:25:19.4449330Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:19.4449890Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:19.4456410Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:19.4456970Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:19.4457310Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:25:19.4457690Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:25:19.4458150Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:19.4458590Z 
2025-12-30T17:25:19.4458850Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:19.4459170Z 
2025-12-30T17:25:19.4459350Z Traceback (most recent call last):
2025-12-30T17:25:19.4459860Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 186, in test_speciation_simple
2025-12-30T17:25:19.4460380Z     ae_eqpt.runeqpt('wrm')
2025-12-30T17:25:19.4460850Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:19.4461910Z     self.err_handler.raise_exception(
2025-12-30T17:25:19.4462650Z   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:19.4463280Z     raise Exception(msg)
2025-12-30T17:25:19.4463600Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:23.3767400Z Traceback (most recent call last):
2025-12-30T17:25:23.3770720Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:23.3813510Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:23.3813940Z 
2025-12-30T17:25:23.3814670Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:23.3815220Z ============================================================
2025-12-30T17:25:23.3815680Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:23.3815930Z AQEQUIL INTEGRATION TEST SUITE
2025-12-30T17:25:23.3817260Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:25:23.3817520Z ============================================================
2025-12-30T17:25:23.3817950Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:25:23.3818160Z Python: 3.12.10
2025-12-30T17:25:23.3818510Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:23.3818920Z Platform: darwin
2025-12-30T17:25:23.3819310Z 
2025-12-30T17:25:23.3819400Z Architecture: arm64
2025-12-30T17:25:23.3819730Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:23.3820050Z ============================================================
2025-12-30T17:25:23.3820300Z 
2025-12-30T17:25:23.3820380Z ============================================================
2025-12-30T17:25:23.3820710Z Traceback (most recent call last):
2025-12-30T17:25:23.3820920Z Test 1: Checking for bundled EQ3/6 executables
2025-12-30T17:25:23.3821710Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 253, in test_water_rock_reaction
2025-12-30T17:25:23.3822130Z ============================================================
2025-12-30T17:25:23.3822440Z     speciation = ae.speciate(
2025-12-30T17:25:23.3822650Z [FAIL] No bundled executables found!
2025-12-30T17:25:23.3822910Z                  ^^^^^^^^^^^^
2025-12-30T17:25:23.3823060Z 
2025-12-30T17:25:23.3823650Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1926, in speciate
2025-12-30T17:25:23.3824030Z ============================================================
2025-12-30T17:25:23.3824360Z     self.runeqpt(data0_lettercode, dynamic_db=True)
2025-12-30T17:25:23.3824650Z Test 2: Testing aqequil import and basic usage
2025-12-30T17:25:23.3825160Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:23.3825510Z ============================================================
2025-12-30T17:25:23.3826060Z     self.err_handler.raise_exception(
2025-12-30T17:25:23.3826270Z [OK] Successfully imported aqequil
2025-12-30T17:25:23.3827150Z   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:23.3827970Z [OK] Found test data at: /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv
2025-12-30T17:25:23.3833240Z     raise Exception(msg)
2025-12-30T17:25:23.3833410Z 
2025-12-30T17:25:23.3833660Z Exception: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:25:23.3833940Z ============================================================
2025-12-30T17:25:23.3834340Z Test 3: Testing runeqpt (data0 to data1 conversion)
2025-12-30T17:25:23.3834650Z ============================================================
2025-12-30T17:25:23.3835360Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmp8ew40nuq
2025-12-30T17:25:23.3835780Z [OK] Copied data0.wrm to working directory
2025-12-30T17:25:23.3836080Z Running EQPT on data0.wrm...
2025-12-30T17:25:23.3836410Z [FAIL] Error during runeqpt: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:23.3836670Z 
2025-12-30T17:25:23.3836800Z ============================================================
2025-12-30T17:25:23.3837400Z Test 4: Testing simple speciation (wrm database)
2025-12-30T17:25:23.3837750Z ============================================================
2025-12-30T17:25:23.3838650Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:25:23.3839480Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmpr3m_4a2b
2025-12-30T17:25:23.3839910Z [OK] Copied data0.wrm to working directory
2025-12-30T17:25:23.3840180Z Running EQPT to create data1.wrm...
2025-12-30T17:25:23.3840560Z [FAIL] Error during simple speciation: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:23.3840850Z 
2025-12-30T17:25:23.3840990Z ============================================================
2025-12-30T17:25:23.3842000Z Test 5: Testing water-rock reaction
2025-12-30T17:25:23.3842360Z ============================================================
2025-12-30T17:25:23.3842830Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:25:23.3843390Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmpthsv0mrv
2025-12-30T17:25:23.3844090Z Getting wrm_data_latest.csv ready. This will take a moment...
2025-12-30T17:25:23.3844620Z No 'charge_balance_on' column found in input file. Defaulting to no charge balancing for all samples.
2025-12-30T17:25:23.3845250Z Warning: a column for Pressure was not found in the sample input file. Defaulting to water saturation pressure...
2025-12-30T17:25:23.3846110Z [FAIL] Error during water-rock reaction: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:25:23.3846420Z 
2025-12-30T17:25:23.3846550Z ============================================================
2025-12-30T17:25:23.3846820Z TEST SUMMARY
2025-12-30T17:25:23.3847060Z ============================================================
2025-12-30T17:25:23.3847340Z [FAIL] Bundled Executables
2025-12-30T17:25:23.3847580Z [PASS] Import and Basic Usage
2025-12-30T17:25:23.3848360Z [FAIL] EQPT Data0 to Data1 Conversion
2025-12-30T17:25:23.3848700Z [FAIL] Simple Speciation (wrm database)
2025-12-30T17:25:23.3848970Z [FAIL] Water-Rock Reaction
2025-12-30T17:25:23.3849230Z ============================================================
2025-12-30T17:25:23.3849440Z 
2025-12-30T17:25:23.3849550Z [FAIL] Some tests failed!
2025-12-30T17:25:23.5420860Z ##[error]Process completed with exit code 1.
