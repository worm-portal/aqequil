2025-12-30T17:27:05.0646890Z ##[group]Run python test_integration.py
2025-12-30T17:27:05.0653460Z [36;1mpython test_integration.py[0m
2025-12-30T17:27:05.0696680Z shell: /bin/bash --noprofile --norc -e -o pipefail {0}
2025-12-30T17:27:05.0697090Z env:
2025-12-30T17:27:05.0697410Z   pythonLocation: /Users/runner/hostedtoolcache/Python/3.13.11/arm64
2025-12-30T17:27:05.0697890Z   PKG_CONFIG_PATH: /Users/runner/hostedtoolcache/Python/3.13.11/arm64/lib/pkgconfig
2025-12-30T17:27:05.0698590Z   Python_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.13.11/arm64
2025-12-30T17:27:05.0699020Z   Python2_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.13.11/arm64
2025-12-30T17:27:05.0699510Z   Python3_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.13.11/arm64
2025-12-30T17:27:05.0699960Z ##[endgroup]
2025-12-30T17:27:06.5312350Z Traceback (most recent call last):
2025-12-30T17:27:06.5338830Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:27:06.5339740Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:27:06.5340380Z     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:06.5341080Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:27:06.5341800Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:27:06.5345080Z   File "<frozen posixpath>", line 77, in join
2025-12-30T17:27:06.5345560Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:27:06.5345970Z 
2025-12-30T17:27:06.5346290Z During handling of the above exception, another exception occurred:
2025-12-30T17:27:06.5346660Z 
2025-12-30T17:27:06.5346820Z Traceback (most recent call last):
2025-12-30T17:27:06.5347430Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 119, in test_runeqpt
2025-12-30T17:27:06.5347950Z     ae.runeqpt('wrm')
2025-12-30T17:27:06.5349160Z     ~~~~~~~~~~^^^^^^^
2025-12-30T17:27:06.5349740Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:27:06.5350260Z     self.err_handler.raise_exception(
2025-12-30T17:27:06.5353850Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
2025-12-30T17:27:06.5354310Z         "Error: EQPT failed to run on {}.".format("data0."+db))
2025-12-30T17:27:06.5355170Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:06.5356590Z   File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:27:06.5357170Z     raise Exception(msg)
2025-12-30T17:27:06.5357430Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:27:06.5357820Z Traceback (most recent call last):
2025-12-30T17:27:06.5358370Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:27:06.5375620Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:27:06.5375970Z     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:06.5376650Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:27:06.5377120Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:27:06.5377540Z   File "<frozen posixpath>", line 77, in join
2025-12-30T17:27:06.5377960Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:27:06.5378240Z 
2025-12-30T17:27:06.5378380Z During handling of the above exception, another exception occurred:
2025-12-30T17:27:06.5378650Z 
2025-12-30T17:27:06.5378720Z Traceback (most recent call last):
2025-12-30T17:27:06.5379170Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 186, in test_speciation_simple
2025-12-30T17:27:06.5379800Z     ae_eqpt.runeqpt('wrm')
2025-12-30T17:27:06.5380030Z     ~~~~~~~~~~~~~~~^^^^^^^
2025-12-30T17:27:06.5380410Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:27:06.5381420Z     self.err_handler.raise_exception(
2025-12-30T17:27:06.5381990Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
2025-12-30T17:27:06.5382230Z         "Error: EQPT failed to run on {}.".format("data0."+db))
2025-12-30T17:27:06.5382670Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:06.5383260Z   File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:27:06.5383830Z     raise Exception(msg)
2025-12-30T17:27:06.5384160Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:27:10.8267290Z Traceback (most recent call last):
2025-12-30T17:27:10.8268220Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:27:10.8268800Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:27:10.8269480Z     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:10.8270080Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:27:10.8270550Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:27:10.8270840Z   File "<frozen posixpath>", line 77, in join
2025-12-30T17:27:10.8271140Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:27:10.8271350Z 
2025-12-30T17:27:10.8271570Z During handling of the above exception, another exception occurred:
2025-12-30T17:27:10.8271810Z 
2025-12-30T17:27:10.8271960Z Traceback (most recent call last):
2025-12-30T17:27:10.8272420Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 253, in test_water_rock_reaction
2025-12-30T17:27:10.8272890Z     speciation = ae.speciate(
2025-12-30T17:27:10.8273170Z         input_filename=test_csv,
2025-12-30T17:27:10.8273360Z         exclude=["Year", "Area"]
2025-12-30T17:27:10.8273520Z     )
2025-12-30T17:27:10.8273870Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1926, in speciate
2025-12-30T17:27:10.8274290Z     self.runeqpt(data0_lettercode, dynamic_db=True)
2025-12-30T17:27:10.8274530Z     ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:10.8274880Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:27:10.8275270Z     self.err_handler.raise_exception(
2025-12-30T17:27:10.8275490Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
2025-12-30T17:27:10.8275720Z         "Error: EQPT failed to run on {}.".format("data0."+db))
2025-12-30T17:27:10.8276040Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:27:10.8276810Z   File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:27:10.8277390Z     raise Exception(msg)
2025-12-30T17:27:10.8277650Z Exception: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:27:10.8277900Z 
2025-12-30T17:27:10.8277980Z ============================================================
2025-12-30T17:27:10.8278520Z AQEQUIL INTEGRATION TEST SUITE
2025-12-30T17:27:10.8278840Z ============================================================
2025-12-30T17:27:10.8279120Z Python: 3.13.11
2025-12-30T17:27:10.8279290Z Platform: darwin
2025-12-30T17:27:10.8279460Z Architecture: arm64
2025-12-30T17:27:10.8279750Z ============================================================
2025-12-30T17:27:10.8280070Z ============================================================
2025-12-30T17:27:10.8280370Z Test 1: Checking for bundled EQ3/6 executables
2025-12-30T17:27:10.8280680Z ============================================================
2025-12-30T17:27:10.8280960Z [FAIL] No bundled executables found!
2025-12-30T17:27:10.8281160Z 
2025-12-30T17:27:10.8281230Z ============================================================
2025-12-30T17:27:10.8281540Z Test 2: Testing aqequil import and basic usage
2025-12-30T17:27:10.8281850Z ============================================================
2025-12-30T17:27:10.8282740Z [OK] Successfully imported aqequil
2025-12-30T17:27:10.8283930Z [OK] Found test data at: /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv
2025-12-30T17:27:10.8284350Z 
2025-12-30T17:27:10.8284480Z ============================================================
2025-12-30T17:27:10.8284860Z Test 3: Testing runeqpt (data0 to data1 conversion)
2025-12-30T17:27:10.8285250Z ============================================================
2025-12-30T17:27:10.8285670Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmpqahzz681
2025-12-30T17:27:10.8286050Z [OK] Copied data0.wrm to working directory
2025-12-30T17:27:10.8286280Z Running EQPT on data0.wrm...
2025-12-30T17:27:10.8286630Z [FAIL] Error during runeqpt: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:27:10.8286840Z 
2025-12-30T17:27:10.8286980Z ============================================================
2025-12-30T17:27:10.8287250Z Test 4: Testing simple speciation (wrm database)
2025-12-30T17:27:10.8287600Z ============================================================
2025-12-30T17:27:10.8288130Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:27:10.8288750Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmpirq8hrv7
2025-12-30T17:27:10.8289120Z [OK] Copied data0.wrm to working directory
2025-12-30T17:27:10.8289380Z Running EQPT to create data1.wrm...
2025-12-30T17:27:10.8289740Z [FAIL] Error during simple speciation: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:27:10.8289990Z 
2025-12-30T17:27:10.8290110Z ============================================================
2025-12-30T17:27:10.8290410Z Test 5: Testing water-rock reaction
2025-12-30T17:27:10.8290660Z ============================================================
2025-12-30T17:27:10.8291150Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:27:10.8291680Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmp5hgx21zp
2025-12-30T17:27:10.8292170Z Getting wrm_data_latest.csv ready. This will take a moment...
2025-12-30T17:27:10.8292610Z No 'charge_balance_on' column found in input file. Defaulting to no charge balancing for all samples.
2025-12-30T17:27:10.8293240Z Warning: a column for Pressure was not found in the sample input file. Defaulting to water saturation pressure...
2025-12-30T17:27:10.8293950Z [FAIL] Error during water-rock reaction: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:27:10.8294260Z 
2025-12-30T17:27:10.8294340Z ============================================================
2025-12-30T17:27:10.8294640Z TEST SUMMARY
2025-12-30T17:27:10.8294810Z ============================================================
2025-12-30T17:27:10.8295050Z [FAIL] Bundled Executables
2025-12-30T17:27:10.8295270Z [PASS] Import and Basic Usage
2025-12-30T17:27:10.8295510Z [FAIL] EQPT Data0 to Data1 Conversion
2025-12-30T17:27:10.8295760Z [FAIL] Simple Speciation (wrm database)
2025-12-30T17:27:10.8296050Z [FAIL] Water-Rock Reaction
2025-12-30T17:27:10.8296280Z ============================================================
2025-12-30T17:27:10.8296520Z 
2025-12-30T17:27:10.8296570Z [FAIL] Some tests failed!
2025-12-30T17:27:11.0608960Z ##[error]Process completed with exit code 1.
