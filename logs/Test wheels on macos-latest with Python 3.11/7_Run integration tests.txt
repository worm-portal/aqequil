2025-12-30T17:25:28.7856840Z ##[group]Run python test_integration.py
2025-12-30T17:25:28.7857280Z [36;1mpython test_integration.py[0m
2025-12-30T17:25:28.7919320Z shell: /bin/bash --noprofile --norc -e -o pipefail {0}
2025-12-30T17:25:28.7919930Z env:
2025-12-30T17:25:28.7920410Z   pythonLocation: /Users/runner/hostedtoolcache/Python/3.11.9/arm64
2025-12-30T17:25:28.7938430Z   PKG_CONFIG_PATH: /Users/runner/hostedtoolcache/Python/3.11.9/arm64/lib/pkgconfig
2025-12-30T17:25:28.7939760Z   Python_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.11.9/arm64
2025-12-30T17:25:28.7941140Z   Python2_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.11.9/arm64
2025-12-30T17:25:28.7942250Z   Python3_ROOT_DIR: /Users/runner/hostedtoolcache/Python/3.11.9/arm64
2025-12-30T17:25:28.7943390Z ##[endgroup]
2025-12-30T17:25:30.9624030Z Traceback (most recent call last):
2025-12-30T17:25:30.9625740Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:30.9626500Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:30.9627500Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:30.9628110Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:30.9631720Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:25:30.9632370Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:25:30.9632950Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:30.9635530Z 
2025-12-30T17:25:30.9635880Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:30.9636200Z 
2025-12-30T17:25:30.9636420Z Traceback (most recent call last):
2025-12-30T17:25:30.9637050Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 119, in test_runeqpt
2025-12-30T17:25:30.9637680Z     ae.runeqpt('wrm')
2025-12-30T17:25:30.9639510Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:30.9640150Z     self.err_handler.raise_exception(
2025-12-30T17:25:30.9645760Z   File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:30.9646480Z     raise Exception(msg)
2025-12-30T17:25:30.9646920Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:30.9664420Z Traceback (most recent call last):
2025-12-30T17:25:30.9665290Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:30.9699020Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:30.9700020Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:30.9700700Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:30.9701120Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:25:30.9701560Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:25:30.9702140Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:30.9702450Z 
2025-12-30T17:25:30.9702760Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:30.9704570Z 
2025-12-30T17:25:30.9710280Z Traceback (most recent call last):
2025-12-30T17:25:30.9710950Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 186, in test_speciation_simple
2025-12-30T17:25:30.9711500Z     ae_eqpt.runeqpt('wrm')
2025-12-30T17:25:30.9712070Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:30.9723440Z     self.err_handler.raise_exception(
2025-12-30T17:25:30.9726430Z   File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:30.9732190Z     raise Exception(msg)
2025-12-30T17:25:30.9732580Z Exception: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:35.9985650Z Traceback (most recent call last):
2025-12-30T17:25:35.9987680Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 854, in runeqpt
2025-12-30T17:25:35.9988380Z     self.__run_eq_executable('eqpt', [data0_path], cwd=os.getcwd())
2025-12-30T17:25:35.9988990Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1114, in __run_eq_executable
2025-12-30T17:25:35.9989860Z     exe_path = os.path.join(self.eq36co, exe_name)
2025-12-30T17:25:35.9990260Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-12-30T17:25:35.9990620Z   File "<frozen posixpath>", line 76, in join
2025-12-30T17:25:35.9990930Z TypeError: expected str, bytes or os.PathLike object, not NoneType
2025-12-30T17:25:35.9991290Z 
2025-12-30T17:25:35.9991540Z During handling of the above exception, another exception occurred:
2025-12-30T17:25:35.9991880Z 
2025-12-30T17:25:35.9992070Z Traceback (most recent call last):
2025-12-30T17:25:35.9992600Z   File "/Users/runner/work/aqequil/aqequil/test_integration.py", line 253, in test_water_rock_reaction
2025-12-30T17:25:35.9993150Z     speciation = ae.speciate(
2025-12-30T17:25:35.9993840Z                  ^^^^^^^^^^^^
2025-12-30T17:25:35.9994490Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 1926, in speciate
2025-12-30T17:25:35.9995070Z     self.runeqpt(data0_lettercode, dynamic_db=True)
2025-12-30T17:25:35.9995610Z   File "/Users/runner/work/aqequil/aqequil/aqequil/AqSpeciation.py", line 856, in runeqpt
2025-12-30T17:25:35.9996200Z     self.err_handler.raise_exception(
2025-12-30T17:25:35.9996880Z   File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/wormutils/Error_Handler.py", line 57, in raise_exception
2025-12-30T17:25:35.9997420Z     raise Exception(msg)
2025-12-30T17:25:35.9997720Z Exception: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:25:35.9997960Z 
2025-12-30T17:25:35.9998050Z ============================================================
2025-12-30T17:25:35.9998320Z AQEQUIL INTEGRATION TEST SUITE
2025-12-30T17:25:35.9998640Z ============================================================
2025-12-30T17:25:35.9998960Z Python: 3.11.9
2025-12-30T17:25:35.9999110Z Platform: darwin
2025-12-30T17:25:35.9999380Z Architecture: arm64
2025-12-30T17:25:35.9999650Z ============================================================
2025-12-30T17:25:35.9999880Z ============================================================
2025-12-30T17:25:36.0000110Z Test 1: Checking for bundled EQ3/6 executables
2025-12-30T17:25:36.0000370Z ============================================================
2025-12-30T17:25:36.0000620Z [FAIL] No bundled executables found!
2025-12-30T17:25:36.0000750Z 
2025-12-30T17:25:36.0000930Z ============================================================
2025-12-30T17:25:36.0001160Z Test 2: Testing aqequil import and basic usage
2025-12-30T17:25:36.0001470Z ============================================================
2025-12-30T17:25:36.0001780Z [OK] Successfully imported aqequil
2025-12-30T17:25:36.0002260Z [OK] Found test data at: /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv
2025-12-30T17:25:36.0002580Z 
2025-12-30T17:25:36.0002770Z ============================================================
2025-12-30T17:25:36.0003100Z Test 3: Testing runeqpt (data0 to data1 conversion)
2025-12-30T17:25:36.0003460Z ============================================================
2025-12-30T17:25:36.0003990Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmpilaquqfh
2025-12-30T17:25:36.0004470Z [OK] Copied data0.wrm to working directory
2025-12-30T17:25:36.0004780Z Running EQPT on data0.wrm...
2025-12-30T17:25:36.0005240Z [FAIL] Error during runeqpt: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:36.0005450Z 
2025-12-30T17:25:36.0005780Z ============================================================
2025-12-30T17:25:36.0006200Z Test 4: Testing simple speciation (wrm database)
2025-12-30T17:25:36.0006540Z ============================================================
2025-12-30T17:25:36.0007520Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:25:36.0008230Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmpwyxidgke
2025-12-30T17:25:36.0008710Z [OK] Copied data0.wrm to working directory
2025-12-30T17:25:36.0009400Z Running EQPT to create data1.wrm...
2025-12-30T17:25:36.0009900Z [FAIL] Error during simple speciation: Error: EQPT failed to run on data0.wrm.
2025-12-30T17:25:36.0010160Z 
2025-12-30T17:25:36.0010360Z ============================================================
2025-12-30T17:25:36.0010650Z Test 5: Testing water-rock reaction
2025-12-30T17:25:36.0011050Z ============================================================
2025-12-30T17:25:36.0011520Z Running speciation on /Users/runner/work/aqequil/aqequil/aqequil/test_data/input_example_wrm.csv...
2025-12-30T17:25:36.0012170Z [INFO] Working directory: /var/folders/bp/kmfmhnl95kx1c8x321z7twbw0000gn/T/tmp0fwt7ggo
2025-12-30T17:25:36.0012680Z Getting wrm_data_latest.csv ready. This will take a moment...
2025-12-30T17:25:36.0013210Z No 'charge_balance_on' column found in input file. Defaulting to no charge balancing for all samples.
2025-12-30T17:25:36.0013970Z Warning: a column for Pressure was not found in the sample input file. Defaulting to water saturation pressure...
2025-12-30T17:25:36.0014580Z [FAIL] Error during water-rock reaction: Error: EQPT failed to run on data0.dyn.
2025-12-30T17:25:36.0014850Z 
2025-12-30T17:25:36.0014930Z ============================================================
2025-12-30T17:25:36.0015350Z TEST SUMMARY
2025-12-30T17:25:36.0015580Z ============================================================
2025-12-30T17:25:36.0015900Z [FAIL] Bundled Executables
2025-12-30T17:25:36.0016280Z [PASS] Import and Basic Usage
2025-12-30T17:25:36.0016670Z [FAIL] EQPT Data0 to Data1 Conversion
2025-12-30T17:25:36.0017100Z [FAIL] Simple Speciation (wrm database)
2025-12-30T17:25:36.0017420Z [FAIL] Water-Rock Reaction
2025-12-30T17:25:36.0017690Z ============================================================
2025-12-30T17:25:36.0017960Z 
2025-12-30T17:25:36.0018090Z [FAIL] Some tests failed!
2025-12-30T17:25:36.1839730Z ##[error]Process completed with exit code 1.
